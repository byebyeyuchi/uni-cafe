{"ast":null,"code":"import _slicedToArray from \"/Users/yuqiliu/Desktop/PROJECT/js-proj/jojo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/yuqiliu/Desktop/PROJECT/js-proj/jojo/client/src/context/alert/AlertState.js\";\n\nimport React, { useReducer } from \"react\";\nimport { v4 } from \"uuid\";\nimport AlertContext from \"./alertContext\";\nimport alertReducer from \"./alertReducer\";\nimport { SET_ALERT, REMOVE_ALERT } from \"../type\";\n\nvar AlertState = function AlertState(props) {\n  var initialState = {\n    alerts: [],\n    success: []\n  };\n\n  var _useReducer = useReducer(alertReducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1]; // set alert\n\n\n  var setAlert = function setAlert(msg, type) {\n    var id = v4();\n    dispatch({\n      type: SET_ALERT,\n      payload: {\n        msg: msg,\n        type: type,\n        id: id\n      }\n    });\n    setTimeout(function () {\n      return dispatch({\n        type: REMOVE_ALERT,\n        payload: id\n      });\n    }, 5000);\n  };\n\n  return /*#__PURE__*/React.createElement(AlertContext.Provider, {\n    value: {\n      alerts: state.alerts,\n      setAlert: setAlert\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, props.children);\n};\n\nexport default AlertState;","map":{"version":3,"sources":["/Users/yuqiliu/Desktop/PROJECT/js-proj/jojo/client/src/context/alert/AlertState.js"],"names":["React","useReducer","v4","AlertContext","alertReducer","SET_ALERT","REMOVE_ALERT","AlertState","props","initialState","alerts","success","state","dispatch","setAlert","msg","type","id","payload","setTimeout","children"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,EAAT,QAAmB,MAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAuC,SAAvC;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAC3B,MAAMC,YAAY,GAAG;AAClBC,IAAAA,MAAM,EAAE,EADU;AAElBC,IAAAA,OAAO,EAAE;AAFS,GAArB;;AAD2B,oBAKDV,UAAU,CAACG,YAAD,EAAeK,YAAf,CALT;AAAA;AAAA,MAKpBG,KALoB;AAAA,MAKbC,QALa,oBAO3B;;;AACA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD,EAAMC,IAAN,EAAe;AAC7B,QAAMC,EAAE,GAAGf,EAAE,EAAb;AACAW,IAAAA,QAAQ,CAAC;AACNG,MAAAA,IAAI,EAAEX,SADA;AAENa,MAAAA,OAAO,EAAE;AAAEH,QAAAA,GAAG,EAAHA,GAAF;AAAOC,QAAAA,IAAI,EAAJA,IAAP;AAAaC,QAAAA,EAAE,EAAFA;AAAb;AAFH,KAAD,CAAR;AAIAE,IAAAA,UAAU,CAAC;AAAA,aAAMN,QAAQ,CAAC;AAAEG,QAAAA,IAAI,EAAEV,YAAR;AAAsBY,QAAAA,OAAO,EAAED;AAA/B,OAAD,CAAd;AAAA,KAAD,EAAsD,IAAtD,CAAV;AACF,GAPD;;AAUA,sBACG,oBAAC,YAAD,CAAc,QAAd;AACG,IAAA,KAAK,EAAE;AACJP,MAAAA,MAAM,EAAEE,KAAK,CAACF,MADV;AAEJI,MAAAA,QAAQ,EAARA;AAFI,KADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMIN,KAAK,CAACY,QANV,CADH;AAUF,CA5BD;;AA6BA,eAAeb,UAAf","sourcesContent":["import React, { useReducer } from \"react\";\nimport { v4 } from \"uuid\";\nimport AlertContext from \"./alertContext\";\nimport alertReducer from \"./alertReducer\";\nimport { SET_ALERT, REMOVE_ALERT} from \"../type\";\n\nconst AlertState = (props) => {\n   const initialState = {\n      alerts: [],\n      success: [],\n   };\n   const [state, dispatch] = useReducer(alertReducer, initialState);\n\n   // set alert\n   const setAlert = (msg, type) => {\n      const id = v4();\n      dispatch({\n         type: SET_ALERT,\n         payload: { msg, type, id },\n      });\n      setTimeout(() => dispatch({ type: REMOVE_ALERT, payload: id }), 5000);\n   };\n\n\n   return (\n      <AlertContext.Provider\n         value={{\n            alerts: state.alerts,\n            setAlert,\n         }}\n      >\n         {props.children}\n      </AlertContext.Provider>\n   );\n};\nexport default AlertState;\n"]},"metadata":{},"sourceType":"module"}