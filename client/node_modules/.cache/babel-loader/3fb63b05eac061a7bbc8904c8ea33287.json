{"ast":null,"code":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'prop-types', '../lib/String'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('prop-types'), require('../lib/String'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.propTypes, global.String);\n    global.HeatMap = mod.exports;\n  }\n})(this, function (exports, _react, _propTypes, _String) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.HeatMap = undefined;\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function _objectWithoutProperties(obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var evtNames = ['click', 'mouseover', 'recenter'];\n\n  var wrappedPromise = function wrappedPromise() {\n    var wrappedPromise = {},\n        promise = new Promise(function (resolve, reject) {\n      wrappedPromise.resolve = resolve;\n      wrappedPromise.reject = reject;\n    });\n    wrappedPromise.then = promise.then.bind(promise);\n    wrappedPromise[\"catch\"] = promise[\"catch\"].bind(promise);\n    wrappedPromise.promise = promise;\n    return wrappedPromise;\n  };\n\n  var HeatMap = exports.HeatMap = function (_React$Component) {\n    _inherits(HeatMap, _React$Component);\n\n    function HeatMap() {\n      _classCallCheck(this, HeatMap);\n\n      return _possibleConstructorReturn(this, (HeatMap.__proto__ || Object.getPrototypeOf(HeatMap)).apply(this, arguments));\n    }\n\n    _createClass(HeatMap, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.heatMapPromise = wrappedPromise();\n        this.renderHeatMap();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps) {\n        if (this.props.map !== prevProps.map || this.props.position !== prevProps.position) {\n          if (this.heatMap) {\n            this.heatMap.setMap(null);\n            this.renderHeatMap();\n          }\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        if (this.heatMap) {\n          this.heatMap.setMap(null);\n        }\n      }\n    }, {\n      key: 'renderHeatMap',\n      value: function renderHeatMap() {\n        var _this2 = this;\n\n        var _props = this.props,\n            map = _props.map,\n            google = _props.google,\n            positions = _props.positions,\n            mapCenter = _props.mapCenter,\n            icon = _props.icon,\n            gradient = _props.gradient,\n            _props$radius = _props.radius,\n            radius = _props$radius === undefined ? 20 : _props$radius,\n            _props$opacity = _props.opacity,\n            opacity = _props$opacity === undefined ? 0.2 : _props$opacity,\n            props = _objectWithoutProperties(_props, ['map', 'google', 'positions', 'mapCenter', 'icon', 'gradient', 'radius', 'opacity']);\n\n        if (!google) {\n          return null;\n        }\n\n        var data = positions.map(function (pos) {\n          return {\n            location: new google.maps.LatLng(pos.lat, pos.lng),\n            weight: pos.weight\n          };\n        });\n\n        var pref = _extends({\n          map: map,\n          gradient: gradient,\n          radius: radius,\n          opacity: opacity,\n          data: data\n        }, props);\n\n        this.heatMap = new google.maps.visualization.HeatmapLayer(pref);\n        this.heatMap.set('radius', radius === undefined ? 20 : radius);\n        this.heatMap.set('opacity', opacity === undefined ? 0.2 : opacity);\n        evtNames.forEach(function (e) {\n          _this2.heatMap.addListener(e, _this2.handleEvent(e));\n        });\n        this.heatMapPromise.resolve(this.heatMap);\n      }\n    }, {\n      key: 'getHeatMap',\n      value: function getHeatMap() {\n        return this.heatMapPromise;\n      }\n    }, {\n      key: 'handleEvent',\n      value: function handleEvent(evt) {\n        var _this3 = this;\n\n        return function (e) {\n          var evtName = 'on' + (0, _String.camelize)(evt);\n\n          if (_this3.props[evtName]) {\n            _this3.props[evtName](_this3.props, _this3.heatMap, e);\n          }\n        };\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return null;\n      }\n    }]);\n\n    return HeatMap;\n  }(_react2[\"default\"].Component);\n\n  HeatMap.propTypes = {\n    position: _propTypes2[\"default\"].object,\n    map: _propTypes2[\"default\"].object,\n    icon: _propTypes2[\"default\"].string\n  };\n  evtNames.forEach(function (e) {\n    return HeatMap.propTypes[e] = _propTypes2[\"default\"].func;\n  });\n  HeatMap.defaultProps = {\n    name: 'HeatMap'\n  };\n  exports[\"default\"] = HeatMap;\n});","map":{"version":3,"sources":["/Users/yuqiliu/Desktop/PROJECT/js-proj/jojo/client/node_modules/google-maps-react/dist/components/HeatMap.js"],"names":["global","factory","define","amd","exports","require","mod","react","propTypes","String","HeatMap","_react","_propTypes","_String","Object","defineProperty","value","undefined","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","evtNames","wrappedPromise","promise","Promise","resolve","reject","then","bind","_React$Component","getPrototypeOf","apply","componentDidMount","heatMapPromise","renderHeatMap","componentDidUpdate","prevProps","map","position","heatMap","setMap","componentWillUnmount","_this2","_props","google","positions","mapCenter","icon","gradient","_props$radius","radius","_props$opacity","opacity","data","pos","location","maps","LatLng","lat","lng","weight","pref","visualization","HeatmapLayer","set","forEach","e","addListener","handleEvent","getHeatMap","evt","_this3","evtName","camelize","render","Component","object","string","func","defaultProps","name"],"mappings":"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","sourcesContent":["(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'prop-types', '../lib/String'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('prop-types'), require('../lib/String'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.propTypes, global.String);\n    global.HeatMap = mod.exports;\n  }\n})(this, function (exports, _react, _propTypes, _String) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.HeatMap = undefined;\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function _objectWithoutProperties(obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var evtNames = ['click', 'mouseover', 'recenter'];\n\n  var wrappedPromise = function wrappedPromise() {\n    var wrappedPromise = {},\n        promise = new Promise(function (resolve, reject) {\n      wrappedPromise.resolve = resolve;\n      wrappedPromise.reject = reject;\n    });\n    wrappedPromise.then = promise.then.bind(promise);\n    wrappedPromise.catch = promise.catch.bind(promise);\n    wrappedPromise.promise = promise;\n\n    return wrappedPromise;\n  };\n\n  var HeatMap = exports.HeatMap = function (_React$Component) {\n    _inherits(HeatMap, _React$Component);\n\n    function HeatMap() {\n      _classCallCheck(this, HeatMap);\n\n      return _possibleConstructorReturn(this, (HeatMap.__proto__ || Object.getPrototypeOf(HeatMap)).apply(this, arguments));\n    }\n\n    _createClass(HeatMap, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.heatMapPromise = wrappedPromise();\n        this.renderHeatMap();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps) {\n        if (this.props.map !== prevProps.map || this.props.position !== prevProps.position) {\n          if (this.heatMap) {\n            this.heatMap.setMap(null);\n            this.renderHeatMap();\n          }\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        if (this.heatMap) {\n          this.heatMap.setMap(null);\n        }\n      }\n    }, {\n      key: 'renderHeatMap',\n      value: function renderHeatMap() {\n        var _this2 = this;\n\n        var _props = this.props,\n            map = _props.map,\n            google = _props.google,\n            positions = _props.positions,\n            mapCenter = _props.mapCenter,\n            icon = _props.icon,\n            gradient = _props.gradient,\n            _props$radius = _props.radius,\n            radius = _props$radius === undefined ? 20 : _props$radius,\n            _props$opacity = _props.opacity,\n            opacity = _props$opacity === undefined ? 0.2 : _props$opacity,\n            props = _objectWithoutProperties(_props, ['map', 'google', 'positions', 'mapCenter', 'icon', 'gradient', 'radius', 'opacity']);\n\n        if (!google) {\n          return null;\n        }\n\n        var data = positions.map(function (pos) {\n          return { location: new google.maps.LatLng(pos.lat, pos.lng), weight: pos.weight };\n        });\n\n        var pref = _extends({\n          map: map,\n          gradient: gradient,\n          radius: radius,\n          opacity: opacity,\n          data: data\n        }, props);\n\n        this.heatMap = new google.maps.visualization.HeatmapLayer(pref);\n\n        this.heatMap.set('radius', radius === undefined ? 20 : radius);\n\n        this.heatMap.set('opacity', opacity === undefined ? 0.2 : opacity);\n\n        evtNames.forEach(function (e) {\n          _this2.heatMap.addListener(e, _this2.handleEvent(e));\n        });\n\n        this.heatMapPromise.resolve(this.heatMap);\n      }\n    }, {\n      key: 'getHeatMap',\n      value: function getHeatMap() {\n        return this.heatMapPromise;\n      }\n    }, {\n      key: 'handleEvent',\n      value: function handleEvent(evt) {\n        var _this3 = this;\n\n        return function (e) {\n          var evtName = 'on' + (0, _String.camelize)(evt);\n          if (_this3.props[evtName]) {\n            _this3.props[evtName](_this3.props, _this3.heatMap, e);\n          }\n        };\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return null;\n      }\n    }]);\n\n    return HeatMap;\n  }(_react2.default.Component);\n\n  HeatMap.propTypes = {\n    position: _propTypes2.default.object,\n    map: _propTypes2.default.object,\n    icon: _propTypes2.default.string\n  };\n\n  evtNames.forEach(function (e) {\n    return HeatMap.propTypes[e] = _propTypes2.default.func;\n  });\n\n  HeatMap.defaultProps = {\n    name: 'HeatMap'\n  };\n\n  exports.default = HeatMap;\n});"]},"metadata":{},"sourceType":"script"}