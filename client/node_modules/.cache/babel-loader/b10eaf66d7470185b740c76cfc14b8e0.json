{"ast":null,"code":"import _defineProperty from\"/Users/yuqiliu/Desktop/PROJECT/js-proj/jojo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/yuqiliu/Desktop/PROJECT/js-proj/jojo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/yuqiliu/Desktop/PROJECT/js-proj/jojo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";// @material-ui/core components\nimport{makeStyles}from\"@material-ui/core/styles\";// core components\nimport GridContainer from\"../../components/Grid/GridContainer\";import GridItem from\"../../components/Grid/GridItem.js\";import CustomInput from\"../../components/CustomInput/CustomInput.js\";import Button from\"../../components/CustomButtons/Button.js\";import Card from\"../../components/Card/Card.js\";import CardBody from\"../../components/Card/CardBody.js\";import CardHeader from\"../../components/Card/CardHeader.js\";import styles from\"../../assets/jss/material-kit-react/views/landingPageSections/workStyle.js\";import Alert from\"../Components/Alert\";// context\nimport PostContext from\"../../context/post/postContext\";import AlertContext from\"../../context/alert/alertContext\";var useStyles=makeStyles(styles);var UserPostMake=function UserPostMake(){var classes=useStyles();var _React$useState=React.useState(\"cardHidden\"),_React$useState2=_slicedToArray(_React$useState,2),cardAnimaton=_React$useState2[0],setCardAnimation=_React$useState2[1];setTimeout(function(){setCardAnimation(\"\");},700);var postContext=useContext(PostContext);var addPost=postContext.addPost,updatePost=postContext.updatePost,clearCurrent=postContext.clearCurrent,current=postContext.current;var alertContext=useContext(AlertContext);var setAlert=alertContext.setAlert;var _useState=useState({title:\"\",body:\"\"}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var title=post.title,body=post.body;useEffect(function(){if(current!==null){setPost({title:current.title,body:current.body});}else{setPost({title:\"\",body:\"\"});}},[postContext,current]);var onChange=function onChange(e){return setPost(_objectSpread(_objectSpread({},post),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(title===\"\"||body===\"\"){setAlert(\"Please fill in title and body\",\"warning\");}if(current===null){addPost(post);setAlert(\"Post sent\",\"success\");}else{current.title=post.title;current.body=post.body;updatePost(current);setAlert(\"Post updated\",\"info\");}clearUp();};var clearUp=function clearUp(){return clearCurrent();};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.container},/*#__PURE__*/React.createElement(Alert,null),/*#__PURE__*/React.createElement(GridContainer,{justify:\"center\"},/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:8},/*#__PURE__*/React.createElement(Card,{className:classes[cardAnimaton]},/*#__PURE__*/React.createElement(CardHeader,{color:\"info\",className:classes.cardHeader},/*#__PURE__*/React.createElement(\"h4\",null,current?\"Edit Post\":\"Say Something\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(GridContainer,null,/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:6},/*#__PURE__*/React.createElement(CustomInput,{labelText:\"post title...\",id:\"post title\",formControlProps:{fullWidth:true},inputProps:{type:\"text\",name:\"title\",onChange:onChange}})),/*#__PURE__*/React.createElement(CustomInput,{labelText:\"post body...\",id:\"message\",formControlProps:{fullWidth:true,className:classes.textArea},inputProps:{type:\"text\",name:\"body\",onChange:onChange,multiline:true,rows:5}}),/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:4},/*#__PURE__*/React.createElement(Button,{color:\"info\",onClick:onSubmit},current?\"Update\":\"Post\")),current&&/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:4},/*#__PURE__*/React.createElement(Button,{color:\"transparent\",onClick:clearUp},\"Cancel\")))))))));};export default UserPostMake;","map":{"version":3,"sources":["/Users/yuqiliu/Desktop/PROJECT/js-proj/jojo/client/src/pages/ProfilePage/UserPostMake.js"],"names":["React","useState","useContext","useEffect","makeStyles","GridContainer","GridItem","CustomInput","Button","Card","CardBody","CardHeader","styles","Alert","PostContext","AlertContext","useStyles","UserPostMake","classes","cardAnimaton","setCardAnimation","setTimeout","postContext","addPost","updatePost","clearCurrent","current","alertContext","setAlert","title","body","post","setPost","onChange","e","target","name","value","onSubmit","preventDefault","clearUp","container","cardHeader","fullWidth","type","className","textArea","multiline","rows"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// core components\nimport GridContainer from \"../../components/Grid/GridContainer\";\nimport GridItem from \"../../components/Grid/GridItem.js\";\nimport CustomInput from \"../../components/CustomInput/CustomInput.js\";\nimport Button from \"../../components/CustomButtons/Button.js\";\nimport Card from \"../../components/Card/Card.js\";\nimport CardBody from \"../../components/Card/CardBody.js\";\nimport CardHeader from \"../../components/Card/CardHeader.js\";\n\nimport styles from \"../../assets/jss/material-kit-react/views/landingPageSections/workStyle.js\";\nimport Alert from \"../Components/Alert\";\n\n// context\nimport PostContext from \"../../context/post/postContext\";\nimport AlertContext from \"../../context/alert/alertContext\";\n\nconst useStyles = makeStyles(styles);\n\nconst UserPostMake = () => {\n   const classes = useStyles();\n   const [cardAnimaton, setCardAnimation] = React.useState(\"cardHidden\");\n   setTimeout(function () {\n      setCardAnimation(\"\");\n   }, 700);\n\n   const postContext = useContext(PostContext);\n   const { addPost, updatePost, clearCurrent, current } = postContext;\n   const alertContext = useContext(AlertContext);\n   const { setAlert } = alertContext;\n\n   const [post, setPost] = useState({\n      title: \"\",\n      body: \"\",\n   });\n   const { title, body } = post;\n\n   useEffect(() => {\n      if (current !== null) {\n         setPost({\n            title: current.title,\n            body: current.body,\n         });\n      } else {\n         setPost({\n            title: \"\",\n            body: \"\",\n         });\n      }\n   }, [postContext, current]);\n\n   const onChange = (e) =>\n      setPost({ ...post, [e.target.name]: e.target.value });\n\n   const onSubmit = (e) => {\n      e.preventDefault();\n      if (title === \"\" || body === \"\") {\n         setAlert(\"Please fill in title and body\", \"warning\");\n      }\n      if (current === null) {\n         addPost(post);\n         setAlert(\"Post sent\", \"success\");\n      } else {\n         current.title = post.title;\n         current.body = post.body;\n         updatePost(current);\n         setAlert(\"Post updated\", \"info\");\n      }\n      clearUp();\n   };\n\n   const clearUp = () => clearCurrent();\n\n   return (\n      <div>\n         <div className={classes.container}>\n            <Alert />\n            <GridContainer justify=\"center\">\n               <GridItem xs={12} sm={12} md={8}>\n                  <Card className={classes[cardAnimaton]}>\n                     <CardHeader color=\"info\" className={classes.cardHeader}>\n                        <h4>{current ? \"Edit Post\" : \"Say Something\"}</h4>\n                     </CardHeader>\n\n                     <CardBody>\n                        <GridContainer>\n                           <GridItem xs={12} sm={12} md={6}>\n                              <CustomInput\n                                 labelText=\"post title...\"\n                                 id=\"post title\"\n                                 formControlProps={{\n                                    fullWidth: true,\n                                 }}\n                                 inputProps={{\n                                    type: \"text\",\n                                    name: \"title\",\n                                    onChange: onChange,\n                                 }}\n                              />\n                           </GridItem>\n                           <CustomInput\n                              labelText=\"post body...\"\n                              id=\"message\"\n                              formControlProps={{\n                                 fullWidth: true,\n                                 className: classes.textArea,\n                              }}\n                              inputProps={{\n                                 type: \"text\",\n                                 name: \"body\",\n                                 onChange: onChange,\n                                 multiline: true,\n                                 rows: 5,\n                              }}\n                           />\n                           <GridItem xs={12} sm={12} md={4}>\n                              <Button color=\"info\" onClick={onSubmit}>\n                                 {current ? \"Update\" : \"Post\"}\n                              </Button>\n                           </GridItem>\n                           {current && (\n                              <GridItem xs={12} sm={12} md={4}>\n                                 <Button color=\"transparent\" onClick={clearUp}>\n                                    Cancel\n                                 </Button>\n                              </GridItem>\n                           )}\n                        </GridContainer>\n                     </CardBody>\n                  </Card>\n               </GridItem>\n            </GridContainer>\n         </div>\n      </div>\n   );\n};\n\nexport default UserPostMake;\n"]},"metadata":{},"sourceType":"module"}