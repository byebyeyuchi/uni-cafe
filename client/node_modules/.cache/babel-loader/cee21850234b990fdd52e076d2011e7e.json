{"ast":null,"code":"import _slicedToArray from \"/Users/yuqiliu/Desktop/jojo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/yuqiliu/Desktop/jojo/client/src/context/alert/AlertState.js\";\n\nimport React, { useReducer } from \"react\";\nimport { v4 } from 'uuid';\nimport AlertContext from \"./alertContext\";\nimport alertReducer from \"./alertReducer\";\nimport { SET_ALERT, REMOVE_ALERT, SET_SUCCESS } from \"../type\";\n\nvar AlertState = function AlertState(props) {\n  var initialState = {\n    alerts: [],\n    success: success\n  };\n\n  var _useReducer = useReducer(alertReducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1]; // set alert\n\n\n  var setAlert = function setAlert(msg, type) {\n    var id = v4();\n    dispatch({\n      type: SET_ALERT,\n      payload: {\n        msg: msg,\n        type: type,\n        id: id\n      }\n    });\n    setTimeout(function () {\n      return dispatch({\n        type: REMOVE_ALERT,\n        payload: id\n      });\n    }, 5000);\n  };\n\n  return /*#__PURE__*/React.createElement(AlertContext.Provider, {\n    value: {\n      alerts: state.alerts,\n      setAlert: setAlert,\n      setSuccess: setSuccess\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, props.children);\n};\n\nexport default AlertState;","map":{"version":3,"sources":["/Users/yuqiliu/Desktop/jojo/client/src/context/alert/AlertState.js"],"names":["React","useReducer","v4","AlertContext","alertReducer","SET_ALERT","REMOVE_ALERT","SET_SUCCESS","AlertState","props","initialState","alerts","success","state","dispatch","setAlert","msg","type","id","payload","setTimeout","setSuccess","children"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,EAAT,QAAmB,MAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SACIC,SADJ,EACeC,YADf,EAC6BC,WAD7B,QAEO,SAFP;;AAKA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAC3B,MAAMC,YAAY,GAAG;AAClBC,IAAAA,MAAM,EAAE,EADU;AAElBC,IAAAA,OAAO,EAAPA;AAFkB,GAArB;;AAD2B,oBAKDX,UAAU,CAACG,YAAD,EAAeM,YAAf,CALT;AAAA;AAAA,MAKpBG,KALoB;AAAA,MAKbC,QALa,oBAO3B;;;AACA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD,EAAMC,IAAN,EAAe;AAC/B,QAAMC,EAAE,GAAGhB,EAAE,EAAb;AACAY,IAAAA,QAAQ,CAAC;AACLG,MAAAA,IAAI,EAAEZ,SADD;AAELc,MAAAA,OAAO,EAAE;AAAEH,QAAAA,GAAG,EAAHA,GAAF;AAAOC,QAAAA,IAAI,EAAJA,IAAP;AAAaC,QAAAA,EAAE,EAAFA;AAAb;AAFJ,KAAD,CAAR;AAKAE,IAAAA,UAAU,CAAC;AAAA,aAAMN,QAAQ,CAAC;AAACG,QAAAA,IAAI,EAAEX,YAAP;AAAqBa,QAAAA,OAAO,EAACD;AAA7B,OAAD,CAAd;AAAA,KAAD,EAAmD,IAAnD,CAAV;AACA,GARD;;AAUA,sBACG,oBAAC,YAAD,CAAc,QAAd;AACG,IAAA,KAAK,EAAE;AACLP,MAAAA,MAAM,EAAEE,KAAK,CAACF,MADT;AAELI,MAAAA,QAAQ,EAARA,QAFK;AAGLM,MAAAA,UAAU,EAAVA;AAHK,KADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOIZ,KAAK,CAACa,QAPV,CADH;AAWF,CA7BD;;AA8BA,eAAed,UAAf","sourcesContent":["import React, { useReducer } from \"react\";\nimport { v4 } from 'uuid';\nimport AlertContext from \"./alertContext\";\nimport alertReducer from \"./alertReducer\";\nimport {\n    SET_ALERT, REMOVE_ALERT, SET_SUCCESS\n} from \"../type\";\n\n\nconst AlertState = (props) => {\n   const initialState = {\n      alerts: [],\n      success\n   };\n   const [state, dispatch] = useReducer(alertReducer, initialState);\n\n   // set alert\n   const setAlert = (msg, type) => {\n    const id = v4();\n    dispatch({\n        type: SET_ALERT,\n        payload: { msg, type, id }\n    });\n\n    setTimeout(() => dispatch({type: REMOVE_ALERT, payload:id}), 5000);\n   }\n   \n   return (\n      <AlertContext.Provider\n         value={{\n           alerts: state.alerts,\n           setAlert,\n           setSuccess,\n         }}\n      >\n         {props.children}\n      </AlertContext.Provider>\n   );\n};\nexport default AlertState;\n"]},"metadata":{},"sourceType":"module"}