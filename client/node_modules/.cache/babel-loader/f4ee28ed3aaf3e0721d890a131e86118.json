{"ast":null,"code":"import _defineProperty from \"/Users/yuqiliu/Desktop/jojo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/yuqiliu/Desktop/jojo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/yuqiliu/Desktop/jojo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/yuqiliu/Desktop/jojo/client/src/pages/ProfilePage/UserPostMake.js\";\n\nimport React, { useState, useContext, useEffect } from \"react\"; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\"; // core components\n\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport styles from \"assets/jss/material-kit-react/views/landingPageSections/workStyle.js\"; // context\n\nimport PostContext from \"../../context/post/postContext\";\nvar useStyles = makeStyles(styles);\n\nvar UserPostMake = function UserPostMake() {\n  var classes = useStyles();\n\n  var _React$useState = React.useState(\"cardHidden\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      cardAnimaton = _React$useState2[0],\n      setCardAnimation = _React$useState2[1];\n\n  setTimeout(function () {\n    setCardAnimation(\"\");\n  }, 700);\n  var postContext = useContext(PostContext);\n  var addPost = postContext.addPost,\n      updatePost = postContext.updatePost,\n      clearCurrent = postContext.clearCurrent,\n      current = postContext.current;\n\n  var _useState = useState({\n    title: \"\",\n    body: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      post = _useState2[0],\n      setPost = _useState2[1];\n\n  var title = post.title,\n      body = post.body;\n  useEffect(function () {\n    if (current !== null) {\n      setPost({\n        title: current.title,\n        body: current.body\n      });\n    } else {\n      setPost({\n        title: \"\",\n        body: \"\"\n      });\n    }\n  }, [postContext, current]);\n\n  var onChange = function onChange(e) {\n    return setPost(_objectSpread(_objectSpread({}, post), {}, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  var onSubmit = function onSubmit(e) {\n    e.preventDefault();\n    if (current === null) addPost(post);else {\n      console.log(\"\");\n      updatePost(post);\n    }\n    clearUp();\n    setPost({\n      title: \"\",\n      body: \"\"\n    });\n  };\n\n  var clearUp = function clearUp() {\n    return clearCurrent();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    justify: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes[cardAnimaton],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    color: \"info\",\n    className: classes.cardHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"Say Something\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(CustomInput, {\n    labelText: \"post title...\",\n    id: \"post title\",\n    formControlProps: {\n      fullWidth: true\n    },\n    inputProps: {\n      type: \"text\",\n      name: \"title\",\n      onChange: onChange\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 31\n    }\n  })), /*#__PURE__*/React.createElement(CustomInput, {\n    labelText: \"post body...\",\n    id: \"message\",\n    formControlProps: {\n      fullWidth: true,\n      className: classes.textArea\n    },\n    inputProps: {\n      type: \"text\",\n      name: \"body\",\n      onChange: onChange,\n      multiline: true,\n      rows: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 28\n    }\n  }), /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    onClick: onSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 31\n    }\n  }, current ? \"Update\" : \"Post\")), current && /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    onClick: clearUp,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 34\n    }\n  }, \"Clear\")))))))));\n};\n\nexport default UserPostMake;","map":{"version":3,"sources":["/Users/yuqiliu/Desktop/jojo/client/src/pages/ProfilePage/UserPostMake.js"],"names":["React","useState","useContext","useEffect","makeStyles","GridContainer","GridItem","CustomInput","Button","Card","CardBody","CardHeader","styles","PostContext","useStyles","UserPostMake","classes","cardAnimaton","setCardAnimation","setTimeout","postContext","addPost","updatePost","clearCurrent","current","title","body","post","setPost","onChange","e","target","name","value","onSubmit","preventDefault","console","log","clearUp","container","cardHeader","fullWidth","type","className","textArea","multiline","rows"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// core components\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\n\nimport styles from \"assets/jss/material-kit-react/views/landingPageSections/workStyle.js\";\n\n// context\nimport PostContext from \"../../context/post/postContext\";\n\nconst useStyles = makeStyles(styles);\n\nconst UserPostMake = () => {\n   const classes = useStyles();\n   const [cardAnimaton, setCardAnimation] = React.useState(\"cardHidden\");\n   setTimeout(function () {\n      setCardAnimation(\"\");\n   }, 700);\n\n   const postContext = useContext(PostContext);\n   const { addPost, updatePost, clearCurrent, current } = postContext;\n   const [post, setPost] = useState({\n      title: \"\",\n      body: \"\",\n   });\n   const { title, body } = post;\n\n   useEffect(() => {\n      if (current !== null) {\n         setPost({\n            title: current.title,\n            body: current.body\n         });\n      } else {\n         setPost({\n            title: \"\",\n            body: \"\",\n         });\n      }\n   }, [postContext, current]);\n  \n   const onChange = (e) =>\n      setPost({ ...post, [e.target.name]: e.target.value });\n\n   const onSubmit = (e) => {\n      e.preventDefault();\n      if (current === null) addPost(post);\n      else {\n         console.log(\"\")\n         updatePost(post);}\n      clearUp();\n      setPost({\n         title: \"\",\n         body: \"\",\n      });\n   };\n\n   const clearUp = () => clearCurrent();\n\n   return (\n      <div>\n         <div className={classes.container}>\n            <GridContainer justify=\"center\">\n               <GridItem xs={12} sm={12} md={8}>\n                  <Card className={classes[cardAnimaton]}>\n                     <CardHeader color=\"info\" className={classes.cardHeader}>\n                        <h4>Say Something</h4>\n                     </CardHeader>\n\n                     <CardBody>\n                        <GridContainer>\n                           <GridItem xs={12} sm={12} md={6}>\n                              <CustomInput\n                                 labelText=\"post title...\"\n                                 id=\"post title\"\n                                 formControlProps={{\n                                    fullWidth: true,\n                                 }}\n                                 inputProps={{\n                                    type: \"text\",\n                                    name: \"title\",\n                                    onChange: onChange,\n                                 }}\n                              />\n                           </GridItem>\n                           <CustomInput\n                             labelText=\"post body...\"\n                              id=\"message\"\n                              formControlProps={{\n                                 fullWidth: true,\n                                 className: classes.textArea,\n                              }}\n                              inputProps={{\n                                 type: \"text\",\n                                 name: \"body\",\n                                 onChange: onChange,\n                                 multiline: true,\n                                 rows: 5,\n                              }}\n                           />\n                           <GridItem xs={12} sm={12} md={4}>\n                              <Button color=\"info\" onClick={onSubmit}>\n                                 {current ? \"Update\" : \"Post\"}\n                              </Button>\n                           </GridItem>\n                           {current && (\n                              <GridItem xs={12} sm={12} md={4}>\n                                 <Button color=\"info\" onClick={clearUp}>\n                                    Clear\n                                 </Button>\n                              </GridItem>\n                           )}\n                        </GridContainer>\n                     </CardBody>\n                  </Card>\n               </GridItem>\n            </GridContainer>\n         </div>\n      </div>\n   );\n};\n\nexport default UserPostMake;\n"]},"metadata":{},"sourceType":"module"}